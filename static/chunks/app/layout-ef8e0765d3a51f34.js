(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7776:function(e,t,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,3146)),Promise.resolve().then(r.bind(r,318)),Promise.resolve().then(r.bind(r,2611)),Promise.resolve().then(r.t.bind(r,2972,23))},3146:function(e,t,r){"use strict";r.d(t,{default:function(){return d},a:function(){return o}});var s=r(7437),n=r(2265);let a=(0,r(7557).eI)("https://dvldgisyoorbrposwnnh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2bGRnaXN5b29yYnJwb3N3bm5oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAwNDMyNjcsImV4cCI6MjA2NTYxOTI2N30.7QpMCapsHPmWJS-nLu8mRBNmAP4Z6oNLU179r3bMSxk");async function l(){let{data:{user:e}}=await a.auth.getUser();return e}let i=(0,n.createContext)({user:null,isLoading:!0,isAuthenticated:!1,refreshUser:async()=>{}}),o=()=>(0,n.useContext)(i);function d(e){let{children:t}=e,[r,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0),u=async()=>{try{let e=await l();if(e){let{data:t,error:r}=await a.from("profiles").select("*").eq("id",e.id).single();t?o({id:e.id,email:e.email||"",full_name:t.full_name,avatar_url:t.avatar_url,role:t.role,created_at:e.created_at}):o({id:e.id,email:e.email||"",role:"student",created_at:e.created_at})}else o(null)}catch(e){console.error("Error refreshing user:",e),o(null)}finally{c(!1)}};return(0,n.useEffect)(()=>{u();let{data:e}=a.auth.onAuthStateChange(async(e,t)=>{"SIGNED_IN"===e||"TOKEN_REFRESHED"===e?await u():"SIGNED_OUT"===e&&o(null)});return()=>{e.subscription.unsubscribe()}},[]),(0,s.jsx)(i.Provider,{value:{user:r,isLoading:d,isAuthenticated:!!r,refreshUser:u},children:t})}},318:function(e,t,r){"use strict";r.d(t,{default:function(){return a}});var s=r(7437),n=r(2265);function a(e){let{children:t}=e,r=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(!r.current){r.current=!0;let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",e.async=!0,window.MathJax={tex:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEscapes:!0},options:{enableMenu:!1,skipHtmlTags:["script","noscript","style","textarea","pre","code"]},startup:{pageReady:()=>{console.log("MathJax is ready");try{window.MathJax.typeset()}catch(e){console.error("MathJax typeset error:",e)}}}},document.head.appendChild(e)}let e=setTimeout(()=>{if(window.MathJax&&window.MathJax.typesetPromise)try{window.MathJax.typesetPromise()}catch(e){console.error("MathJax typeset error:",e)}},100);return()=>clearTimeout(e)},[]),(0,s.jsx)(s.Fragment,{children:t})}},2611:function(e,t,r){"use strict";r.d(t,{default:function(){return l}});var s=r(7437),n=r(2265),a=r(7648);function l(){let[e,t]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1);return(0,s.jsxs)("nav",{className:"bg-white shadow-md",children:[(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)(a.default,{href:"/",className:"text-xl font-bold text-blue-600",children:"Thi To\xe1n Online"})}),(0,s.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,s.jsx)(a.default,{href:"/",className:"border-transparent text-gray-500 hover:border-blue-500 hover:text-blue-600 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Trang chủ"}),(0,s.jsx)(a.default,{href:"/quizzes",className:"border-transparent text-gray-500 hover:border-blue-500 hover:text-blue-600 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"B\xe0i thi"}),(0,s.jsx)(a.default,{href:"/practice",className:"border-transparent text-gray-500 hover:border-blue-500 hover:text-blue-600 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Luyện tập"}),(0,s.jsx)(a.default,{href:"/results",className:"border-transparent text-gray-500 hover:border-blue-500 hover:text-blue-600 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Kết quả"})]})]}),(0,s.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:r?(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(a.default,{href:"/profile",className:"text-gray-500 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Hồ sơ"}),(0,s.jsx)("button",{onClick:()=>l(!1),className:"bg-red-100 text-red-600 hover:bg-red-200 px-3 py-2 rounded-md text-sm font-medium",children:"Đăng xuất"})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(a.default,{href:"/login",className:"text-gray-500 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Đăng nhập"}),(0,s.jsx)(a.default,{href:"/register",className:"bg-blue-600 text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium",children:"Đăng k\xfd"})]})}),(0,s.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,s.jsxs)("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-expanded":"false",children:[(0,s.jsx)("span",{className:"sr-only",children:"Mở menu"}),(0,s.jsx)("svg",{className:"".concat(e?"hidden":"block"," h-6 w-6"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),(0,s.jsx)("svg",{className:"".concat(e?"block":"hidden"," h-6 w-6"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})})]})}),(0,s.jsxs)("div",{className:"".concat(e?"block":"hidden"," sm:hidden"),children:[(0,s.jsxs)("div",{className:"pt-2 pb-3 space-y-1",children:[(0,s.jsx)(a.default,{href:"/",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-blue-500 hover:text-blue-600",children:"Trang chủ"}),(0,s.jsx)(a.default,{href:"/quizzes",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-blue-500 hover:text-blue-600",children:"B\xe0i thi"}),(0,s.jsx)(a.default,{href:"/practice",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-blue-500 hover:text-blue-600",children:"Luyện tập"}),(0,s.jsx)(a.default,{href:"/results",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-blue-500 hover:text-blue-600",children:"Kết quả"})]}),(0,s.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200",children:r?(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(a.default,{href:"/profile",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-blue-500 hover:text-blue-600",children:"Hồ sơ"}),(0,s.jsx)("button",{onClick:()=>l(!1),className:"block w-full text-left pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-red-600 hover:bg-red-50 hover:border-red-500",children:"Đăng xuất"})]}):(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(a.default,{href:"/login",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-blue-500 hover:text-blue-600",children:"Đăng nhập"}),(0,s.jsx)(a.default,{href:"/register",className:"block pl-3 pr-4 py-2 border-l-4 border-blue-500 text-base font-medium text-blue-600 bg-blue-50",children:"Đăng k\xfd"})]})})]})]})}},7960:function(){}},function(e){e.O(0,[587,648,557,971,117,744],function(){return e(e.s=7776)}),_N_E=e.O()}]);