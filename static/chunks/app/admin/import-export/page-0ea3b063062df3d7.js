(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{6406:function(e,s,t){Promise.resolve().then(t.bind(t,7187))},7187:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var l=t(7437),i=t(2265),n=t(9376);function c(){(0,n.useRouter)();let e=(0,i.useRef)(null),[s,t]=(0,i.useState)("csv"),[c,r]=(0,i.useState)(null),[a,d]=(0,i.useState)(!1),[o,h]=(0,i.useState)(!1),[x,u]=(0,i.useState)(null),[m,p]=(0,i.useState)(null),[g,j]=(0,i.useState)("csv"),[f,b]=(0,i.useState)(!1),[y,v]=(0,i.useState)({allQuestions:!0,difficulty:"all",type:"all",tags:""}),N=async()=>{if(!c){u("Vui l\xf2ng chọn file để import");return}d(!0),u(null),setTimeout(()=>{d(!1),h(!0),setTimeout(()=>{h(!1),r(null),p(null),e.current&&(e.current.value="")},3e3)},1500)},w=async()=>{b(!0),setTimeout(()=>{b(!1);let e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent("Dữ liệu export mẫu")),e.setAttribute("download","questions_export.".concat(g)),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},1500)},C=e=>{let{name:s,value:t,type:l}=e.target,i="checkbox"===l?e.target.checked:void 0;v({...y,[s]:"checkbox"===l?i:t})};return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Import/Export C\xe2u Hỏi"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,l.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Import C\xe2u Hỏi"}),(0,l.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Nhập c\xe2u hỏi từ file CSV, Excel hoặc JSON"})]}),(0,l.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Định dạng file"}),(0,l.jsxs)("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:s,onChange:e=>t(e.target.value),children:[(0,l.jsx)("option",{value:"csv",children:"CSV"}),(0,l.jsx)("option",{value:"excel",children:"Excel"}),(0,l.jsx)("option",{value:"json",children:"JSON"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Chọn file"}),(0,l.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,l.jsxs)("div",{className:"space-y-1 text-center",children:[(0,l.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,l.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,l.jsx)("span",{children:"Tải file l\xean"}),(0,l.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"csv"===s?".csv":"excel"===s?".xlsx,.xls":".json",onChange:e=>{let s=e.target.files;s&&s.length>0&&(r(s[0]),u(null),setTimeout(()=>{p([{id:"preview1",question:"T\xednh đạo h\xe0m của h\xe0m số $f(x) = x^2 + 3x + 2$",type:"essay"},{id:"preview2",question:"Cho $f(x) = \\sin(x)$. T\xednh $f(\\pi/4)$",type:"multiple_choice"},{id:"preview3",question:"Giải phương tr\xecnh $2x^2 - 5x + 3 = 0$",type:"essay"}])},500))},ref:e})]}),(0,l.jsx)("p",{className:"pl-1",children:"hoặc k\xe9o thả v\xe0o đ\xe2y"})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["csv"===s&&"CSV tối đa 10MB","excel"===s&&"Excel tối đa 10MB","json"===s&&"JSON tối đa 10MB"]})]})}),c&&(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["File đ\xe3 chọn: ",(0,l.jsx)("span",{className:"font-medium",children:c.name})," (",Math.round(c.size/1024)," KB)"]}),x&&(0,l.jsx)("p",{className:"mt-2 text-sm text-red-600",children:x})]}),m&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Xem trước dữ liệu"}),(0,l.jsx)("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"C\xe2u hỏi"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loại"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,l.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.question}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.type})]},e.id))})]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",onClick:N,disabled:!c||a,children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang import..."]}):"Import C\xe2u Hỏi"}),o&&(0,l.jsx)("div",{className:"mt-3 bg-green-50 border border-green-200 rounded-md p-4",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,l.jsx)("div",{className:"ml-3",children:(0,l.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Import th\xe0nh c\xf4ng! Đ\xe3 th\xeam 3 c\xe2u hỏi mới."})})]})})]})]})})]}),(0,l.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,l.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Export C\xe2u Hỏi"}),(0,l.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Xuất c\xe2u hỏi ra file CSV, Excel, JSON hoặc PDF"})]}),(0,l.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Định dạng xuất"}),(0,l.jsxs)("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:g,onChange:e=>j(e.target.value),children:[(0,l.jsx)("option",{value:"csv",children:"CSV"}),(0,l.jsx)("option",{value:"excel",children:"Excel"}),(0,l.jsx)("option",{value:"json",children:"JSON"}),(0,l.jsx)("option",{value:"pdf",children:"PDF"})]})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{className:"text-sm font-medium text-gray-700",children:"Bộ lọc"}),(0,l.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("div",{className:"flex items-center h-5",children:(0,l.jsx)("input",{id:"allQuestions",name:"allQuestions",type:"checkbox",checked:y.allQuestions,onChange:C,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,l.jsxs)("div",{className:"ml-3 text-sm",children:[(0,l.jsx)("label",{htmlFor:"allQuestions",className:"font-medium text-gray-700",children:"Xuất tất cả c\xe2u hỏi"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Bỏ chọn để \xe1p dụng bộ lọc b\xean dưới"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"difficulty",className:"block text-sm font-medium text-gray-700",children:"Độ kh\xf3"}),(0,l.jsxs)("select",{id:"difficulty",name:"difficulty",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:y.difficulty,onChange:C,disabled:y.allQuestions,children:[(0,l.jsx)("option",{value:"all",children:"Tất cả"}),(0,l.jsx)("option",{value:"easy",children:"Dễ"}),(0,l.jsx)("option",{value:"medium",children:"Trung b\xecnh"}),(0,l.jsx)("option",{value:"hard",children:"Kh\xf3"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Loại c\xe2u hỏi"}),(0,l.jsxs)("select",{id:"type",name:"type",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:y.type,onChange:C,disabled:y.allQuestions,children:[(0,l.jsx)("option",{value:"all",children:"Tất cả"}),(0,l.jsx)("option",{value:"multiple_choice",children:"Trắc nghiệm"}),(0,l.jsx)("option",{value:"essay",children:"Tự luận"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags (ph\xe2n c\xe1ch bằng dấu phẩy)"}),(0,l.jsx)("input",{type:"text",name:"tags",id:"tags",className:"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"đại số, h\xecnh học, giải t\xedch...",value:y.tags,onChange:C,disabled:y.allQuestions})]})]})]})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",onClick:w,disabled:f,children:f?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang export..."]}):"Export C\xe2u Hỏi"})}),(0,l.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:"Th\xf4ng tin"}),(0,l.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:(0,l.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,l.jsx)("li",{children:"Định dạng CSV v\xe0 Excel ph\xf9 hợp để import v\xe0o c\xe1c phần mềm kh\xe1c"}),(0,l.jsx)("li",{children:"Định dạng JSON ph\xf9 hợp để sao lưu hoặc chuyển đổi dữ liệu"}),(0,l.jsx)("li",{children:"Định dạng PDF ph\xf9 hợp để in hoặc lưu trữ"})]})})]})]})})]})})]})]}),(0,l.jsxs)("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,l.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Hướng dẫn sử dụng"}),(0,l.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"C\xe1ch sử dụng t\xednh năng import/export c\xe2u hỏi"})]}),(0,l.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:(0,l.jsxs)("div",{className:"prose prose-sm max-w-none text-gray-500",children:[(0,l.jsx)("h3",{children:"Định dạng file import"}),(0,l.jsx)("p",{children:"Để import c\xe2u hỏi th\xe0nh c\xf4ng, file của bạn cần tu\xe2n theo cấu tr\xfac sau:"}),(0,l.jsx)("h4",{children:"CSV"}),(0,l.jsx)("p",{children:"File CSV cần c\xf3 c\xe1c cột sau (theo thứ tự):"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"question"}),": Nội dung c\xe2u hỏi (bắt buộc)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"type"}),": Loại c\xe2u hỏi (multiple_choice hoặc essay) (bắt buộc)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"difficulty"}),": Độ kh\xf3 (easy, medium, hard) (bắt buộc)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"correct_answer"}),": Đ\xe1p \xe1n đ\xfang (bắt buộc với c\xe2u hỏi trắc nghiệm)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"options"}),": C\xe1c lựa chọn, ph\xe2n c\xe1ch bằng dấu | (bắt buộc với c\xe2u hỏi trắc nghiệm)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"explanation"}),": Giải th\xedch đ\xe1p \xe1n (t\xf9y chọn)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"tags"}),": C\xe1c tag, ph\xe2n c\xe1ch bằng dấu phẩy (t\xf9y chọn)"]})]}),(0,l.jsx)("h4",{children:"Excel"}),(0,l.jsx)("p",{children:"File Excel cần c\xf3 cấu tr\xfac tương tự như CSV, với mỗi cột tương ứng với một trường th\xf4ng tin."}),(0,l.jsx)("h4",{children:"JSON"}),(0,l.jsx)("p",{children:"File JSON cần c\xf3 cấu tr\xfac như sau:"}),(0,l.jsx)("pre",{children:'[\n  {\n    "question": "Nội dung c\xe2u hỏi",\n    "type": "multiple_choice",\n    "difficulty": "medium",\n    "correct_answer": "A",\n    "options": ["Lựa chọn A", "Lựa chọn B", "Lựa chọn C", "Lựa chọn D"],\n    "explanation": "Giải th\xedch đ\xe1p \xe1n",\n    "tags": ["đại số", "phương tr\xecnh"]\n  }\n]'}),(0,l.jsx)("h3",{children:"Lưu \xfd quan trọng"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Đối với c\xe2u hỏi c\xf3 chứa c\xf4ng thức to\xe1n học, sử dụng c\xfa ph\xe1p LaTeX với dấu $ bao quanh."}),(0,l.jsx)("li",{children:"K\xedch thước file tối đa l\xe0 10MB."}),(0,l.jsx)("li",{children:"Hệ thống sẽ kiểm tra v\xe0 b\xe1o lỗi nếu dữ liệu kh\xf4ng hợp lệ."}),(0,l.jsx)("li",{children:"Nếu c\xf3 lỗi trong qu\xe1 tr\xecnh import, hệ thống sẽ hiển thị th\xf4ng b\xe1o chi tiết."})]})]})})]})]})}},9376:function(e,s,t){"use strict";var l=t(5475);t.o(l,"useRouter")&&t.d(s,{useRouter:function(){return l.useRouter}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6406)}),_N_E=e.O()}]);